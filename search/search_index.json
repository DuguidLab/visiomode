{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Installation","text":""},{"location":"#getting-started","title":"Getting started","text":"<p>Visiomode is an open-source platform for rodent touchscreen-based visuomotor tasks. It has been designed to promote the use of touchscreens as an accessible option for implementing a variety of visual task paradigms, with low-cost and ease-of-use as a priority. Visiomode is implemented on the popular Raspberry Pi computer, and provides the user with an intuitive web interface to design and manage experiments. It can be deployed as a stand-alone cognitive testing solution in both freely-moving and head-restrained environments.</p> <p>In this guide, we'll walk through the process of installing Visiomode on a Raspberry Pi computer. We'll also cover the basics of running Visiomode, and how to access the web interface. The next few sections will guide you through the process of building an arena, running your first experiment and analysing Visiomode's behavioural data. But for now, let's get Visiomode up and running!</p> <p>Note</p> <p>This guide assumes you want to set up Visiomode on a Raspberry Pi for behaviour experiments. If you're looking to set up Visiomode on a desktop computer for development or testing purposes, please see the Development guide.</p>"},{"location":"#setting-up-your-raspberry-pi","title":"Setting up your Raspberry Pi","text":"<p>The first thing you want to do is get your hands on a Raspberry Pi 4 (or equivalent). Visiomode has been tested on the 2GB, 4GB and 8GB models, and all work well. The 2GB model is the cheapest option, but you should consider the 4GB and 8GB models if you're planning on running experiments with particularly complex visual stimuli (such as videos or animated sequences). You will also need a microSD (16GB or larger) to install the Raspberry Pi OS on. It is recommended that you buy a microSD card with NOOBs pre-installed; alternatively, you can download the Raspberry Pi OS from the Raspberry Pi website. You will need the Raspberry Pi OS (64-bit) Desktop version.</p> <p>At this stage you can plug your Raspberry Pi into an external monitor for setup, but if you're keen to skip ahead you can install a Hyperpixel 4.0 (or equivalent touchscreen module) on your Pi at this stage. If you're planning to use a touchscreen, it's recommended that you attach the touchscreen module before installing the Raspberry Pi OS, as the touchscreen drivers are installed as part of the Raspberry Pi OS installation process. If you will be using the recommended Hyperpixel 4.0 display, no additional drivers will need to be installed as these are now part of the Raspberry Pi OS kernel.</p> <p>Make sure you've connected an external keyboard and mouse to your Raspberry Pi, and insert the microSD card into the slot on the underside of the Pi. Connect the Pi to a power source, and the Raspberry Pi OS installation process will begin. Follow the on-screen instructions to install the Raspberry Pi OS, making sure that you have an active internet connection (either via WiFi or Ethernet cable) during this process. Once the installation is complete, you will be greeted with the Raspberry Pi OS desktop.</p>"},{"location":"#installing-visiomode","title":"Installing Visiomode","text":"<p>The recommended way to install Visiomode is by using <code>pipx</code> (https://pypa.github.io/pipx/). <code>pipx</code> will create an isolated python environment from which Visiomode will run, leaving the system python alone. This is the recommended way to install Visiomode, as it will not interfere with any other python packages you may have installed on your system.</p> <p>First, make sure that your Raspberry Pi OS is up-to-date. Open a new terminal window and run</p> <pre><code>sudo apt update &amp;&amp; sudo apt upgrade\n</code></pre> <p>Tip</p> <p>If you are not familiar with running commands in the terminal, the Raspberry Pi project's handy guide on how to use the terminal will get you started!</p> <p>Visiomode runs on SDL 2.0. To make sure all system dependencies are present, run</p> <pre><code>sudo apt install libsdl2-mixer-2.0-0 libsdl2-image-2.0-0 libsdl2-2.0-0 libsdl2-ttf-2.0-0\n</code></pre> <p>Install <code>pipx</code> using</p> <pre><code>sudo apt install pipx\n</code></pre> <p>And finally, install Visiomode using <code>pipx</code>:</p> <pre><code>pipx install visiomode\n</code></pre> <p>To launch Visiomode, open a terminal and run</p> <pre><code>visiomode\n</code></pre> <p>After a few moments you will be greeted with the Visiomode mouse interface:</p> <p></p> <p>This might not quite fit your screen yet, but don't worry - we'll fix this in a moment.</p> <p>\ud83c\udf89 Congratulations! You've just installed Visiomode on your Raspberry Pi. The next section will walk you through accessing the web interface and running Visiomode remotely.</p>"},{"location":"#accessing-the-web-interface","title":"Accessing the web interface","text":"<p>So far, we've install Visiomode and launched the mouse interface. But Visiomode's real power comes from its web interface, which allows you to design and manage experiments, and monitor your animals' performance in real-time.</p> <p>Note</p> <p>If you've been following along, your Raspberry Pi should be connected to an external monitor (or a touchscreen display), as well as a keyboard and mouse. If you've been accessing your Raspberry Pi remotely this whole time  (i.e. through SSH) you can skip to the next section.</p> <p>On the Raspberry Pi desktop, open a new browser window and navigate to <code>http://127.0.0.1:5000</code>. You will be greeted by the Visiomode web interface:</p> <p></p> <p>Tip</p> <p>Things not quite working as you'd expect? Head over to the Troubleshooting page for some common issues and solutions.</p> <p>While we're here, let's adjust the display settings for the mouse interface, so that it will run in fullscreen mode with the correct resolution on the Hyperpixel (or any other touchscreen) display. On the left-hand panel of the web interface, navigate to Settings and select Change display settings.</p> <p></p> <p>This will launch a popup menu, where you can adjust the window width, height and toggle between fullscreen and window mode. Assuming you will be using the Hyperpixel 4.0 display in landscape orientation, change the settings to the following:</p> <ul> <li>Width: 800</li> <li>Height: 480</li> <li>Fullscreen: True</li> </ul> <p></p> <p>Note</p> <p>If you're using a different touchscreen display, simply match these settings to its resolution and orientation. Running the mouse interface in fullscreen mode is strongly recommended.</p> <p>Make sure you save your changes by clicking the Save changes button at the bottom of the popup. Your changes will take effect next time you start Visiomode!</p> <p>We've accessed the web interface from the Raspberry Pi itself, but having both mouse and web interfaces open at the same time on the same screen is far from ideal. What if we want to access the web interface from another computer? This would allow us to leave the mouse interface running at fullscreen on the touchscreen itself while we control the experimental parameters from a separate personal device. Sounds pretty neat - let's go ahead and do that!</p> <p>You first need to work out what the IP address of your Raspberry Pi is on the network you're currently connected to. The easiest way to do this is to hover above the WiFi icon in the top-right corner of the Raspberry Pi desktop, which will display the IP address of your Raspberry Pi:</p> <p></p> <p>Alternatively, you can switch back to the terminal you used to launch Visiomode and take a look at the output after you ran the <code>visiomode</code> command (you may have to scroll up)</p> <p></p> <p>The second address circled above (i.e. not <code>127.0.0.1</code>) is the IP address of your Raspberry Pi. Make a note of this address, as we'll need it in a moment.</p> <p>Tip</p> <p>Still having trouble? Check out the official Raspberry Pi OS documentation for further guidance.</p> <p>Now that you know the IP address of your Raspberry Pi, you can access the web interface from any device connected to the same network. Open a browser window on your personal device and navigate to <code>http://&lt;YOUR-IP-ADDRESS&gt;:5000</code>, where <code>&lt;YOUR-IP-ADDRESS&gt;</code> is the IP address of your Raspberry Pi. You will be greeted by the now-familiar Visiomode web interface!</p>"},{"location":"#running-visiomode-remotely","title":"Running Visiomode remotely","text":"<p>So far, we've launched Visiomode from a local terminal and accessed the web interface both on the Raspberry Pi and from a separate device. But what if we want to run Visiomode remotely, without having to physically access the Raspberry Pi? Then all we'd have to do when running an experiment is switch the Raspberry Pi on, and we could set up and monitor our experiments from a separate device (or tablet!), without having to keep a monitor and external keyboard plugged in at all times. This is where <code>ssh</code> comes in.</p> <p>If you've been following along so far, Visiomode is currently running on your Raspberry Pi as the result of you running the <code>visiomode</code> command in a terminal on its desktop. You should now quit Visiomode by switching to the terminal window where you ran the <code>visiomode</code> command and pressing <code>Ctrl+C</code> on your keyboard.</p> <p>You will first need to enable <code>ssh</code> on your Raspberry Pi. On the Raspberry Pi, open a terminal window and run</p> <pre><code>sudo raspi-config\n</code></pre> <p>This will launch the Raspberry Pi configuration menu. Navigate to Interfacing Options and select SSH. You will be asked if you want to enable <code>ssh</code> - select Yes and press Enter. You will be returned to the main menu - select Finish and press Enter to exit the configuration menu.</p> <p>Next, you will need to install an <code>ssh</code> client on your personal device. If you're using a Linux or Mac computer, you can use the built-in <code>ssh</code> client by opening a terminal window and running</p> <pre><code>ssh &lt;YOUR-RPI-USERNAME&gt;@&lt;YOUR-IP-ADDRESS&gt;\n</code></pre> <p>If you're using a Windows computer, you will need to install an <code>ssh</code> client such as PuTTY. Once installed, open PuTTY and enter the IP address of your Raspberry Pi in the Host Name field, and click Open. You will be prompted to enter your Raspberry Pi username and password, which you would have created during the Raspberry Pi OS installation process. Once you've entered your username and password, you will be greeted by the Raspberry Pi terminal.</p> <p>Once you have an active <code>ssh</code> connection to your Raspberry Pi, you can launch Visiomode by running</p> <pre><code>DISPLAY=:0 visiomode\n</code></pre> <p>The mouse interface will appear on the screen (or touchscreen) attached to the Raspberry Pi, and you can access the web interface by opening a browser on your device and navigating to <code>http://&lt;YOUR-IP-ADDRESS&gt;:5000</code>.</p> <p>\ud83c\udf89 Congratulations! You are all set to build an arena and start doing some science!\ud83e\uddd1\u200d\ud83d\udd2c</p>"},{"location":"#next-steps","title":"Next steps","text":"<p>Now that you have a working installation of Visiomode, you can start putting together an arena for running your experiments. Building an arena will guide you through the process of building a touchscreen arena, while Running your first experiment will walk you through the process of designing and running experiments.</p>"},{"location":"building-an-arena/","title":"Building an arena","text":"<p>This tutorial will take you through the process of building a basic arena for conducting touchscreen-based behavioural assays in freely moving mice. The arena will be built using a Raspberry Pi 4, a Hyperpixel 4.0 touchscreen, and a few other components. The total cost of the arena is roughly \u00a3500 at the time of writing, and can be built in a few hours assuming you have access to the required tools. The arena is designed to be as simple as possible to build, and can be easily modified to suit your needs.</p> <p>Note</p> <p>While this guide describes building an arena for freely moving mice, the same principles can be applied to building an arena for freely moving rats - only difference is that the arena will need to be larger to accommodate their size. The official 7\" Raspberry Pi touchscreen is a good option for a rat-sized setup.</p>"},{"location":"building-an-arena/#what-youll-need","title":"What you'll need","text":"<p>For the arena itself, you will need:</p> <ul> <li>1x 3mm red tint acrylic sheet cut to 200mm x 250mm.</li> <li>1x 3mm red tint acrylic sheet cut to 400mm x 250mm.</li> <li>2x 5mm black acrylic sheets cut to 200mm x 250mm.</li> <li>2x 5mm black acrylic sheets cut to 400mm x 250mm.</li> <li>2x 5mm black acrylic sheets cut to 400mm x 200mm.</li> <li>2x 3mm clear acrylic sheets cut to 100mm x 150mm.</li> <li>4x aluminium profile struts, 20 x 20 mm, 5mm groove, 1000mm length (or equivalent).</li> <li>10x angle bracket connecting components for strut profile 20 mm, groove size 5mm (or equivalent).</li> <li>A box of M4 x 8mm hex socket cap screws.</li> <li>A box of M4 x 10mm hex socket cap screws.</li> <li>A box of M4 x 20mm hex socket cap screws.</li> <li>40x M4 T-slot nut connecting components for strut profile 20 mm, groove size 5mm.</li> <li>4x magnetic tape strips.</li> <li>A pair of 150mm stainless steel rulers.</li> <li>(Optional) Sound-proofing foam sheets, if you're planning to use the arena in a noisy environment.</li> </ul> <p>For the touchscreen module, you will need:</p> <ul> <li>A Raspberry Pi 4 with Visiomode installed (see Getting started).</li> <li>A Hyperpixel 4.0 touchscreen.</li> <li>2x mounting brackets with screw holes. These are optional but recommended, as they will make it easier to mount the touchscreen to the arena.</li> <li>A box of M2.5 x 6mm hex socket cap screws.</li> <li>A bag of M2.5 nylon washers.</li> </ul> <p>For the reward system, you will need:</p> <ul> <li>An Arduino Nano (or equivalent microcontroller).</li> <li>A miniature 5V solenoid valve (or equivalent).</li> <li>A 5V servo motor (or equivalent).</li> <li>A variety of single core hook up wires (red/black/green or similar).</li> <li>Plastic flexible tubing with an internal diameter of 4mm.</li> <li>An 18G dispensing needle tip.</li> <li>(Optional) A small Noga arm. This is optional but recommended, as it will make it much easier to mount the reward system to the arena.</li> </ul> <p>You will also need access to the following equipment:</p> <ul> <li>A hot glue gun.</li> <li>A soldering station.</li> <li>A drill (any will do but a standing drill is recommended).</li> <li>A jigsaw (or hand saw if you have a lot of patience), with blades suitable for cutting through metal and plastic.</li> <li>A laser cutter (or a CNC router) capable of cutting 3mm and 5mm acrylic sheets. This is required for the slit inserts that facilitate forelimb reaching responses described by Eleftheriou et al. 2023. If you don't have access to a laser cutter / CNC machine you might want to consider outsourcing this task to an external vendor such as Get It Made or Protolabs, but always check with your local University / Institute workshop / Engineering department first as they may be able to do this for you. Other than the slit inserts, the rest of the arena can be built using a jigsaw, a drill and a hot glue gun.</li> </ul> <p>Warning</p> <p>This tutorial assumes you have some basic knowledge of electronics and soldering, and are comfortable using a soldering iron. If you are not, please seek help from someone who is. Alternatively, you can use a breadboard to assemble the electronics, but this is not recommended for a permanent setup.</p>"},{"location":"building-an-arena/#assembling-the-electronics","title":"Assembling the electronics","text":""},{"location":"building-an-arena/#putting-the-arena-together","title":"Putting the arena together","text":""},{"location":"building-an-arena/#calibrating-the-reward-system","title":"Calibrating the reward system","text":""},{"location":"building-an-arena/#testing-the-arena","title":"Testing the arena","text":""},{"location":"building-an-arena/#next-steps","title":"Next steps","text":""},{"location":"data-analysis/","title":"Data analysis","text":"<p>Note</p> <p>This is a work in progress. Please check back later for updates!</p>"},{"location":"next-steps/","title":"Next steps","text":"<p>Note</p> <p>This is a work in progress. Please check back later for updates!</p>"},{"location":"running-first-experiment/","title":"Running your first experiment (with Visiomode)","text":"<p>Note</p> <p>This is a work in progress. Please check back later for updates!</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>Note</p> <p>This is a work in progress. Please check back later for updates!</p>"},{"location":"design-principles/","title":"Overview","text":"<p>Note</p> <p>This is a work in progress. Please check back later for updates!</p>"},{"location":"how-to/","title":"Overview","text":"<p>Note</p> <p>This is a work in progress. Please check back later for updates!</p>"},{"location":"reference/","title":"Overview","text":"<p>Note</p> <p>This is a work in progress. Please check back later for updates!</p>"}]}